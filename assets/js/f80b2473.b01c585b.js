"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5819],{3673:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=i(4848),r=i(8453);const s={sidebar_position:2},a="Configuration",o={id:"chainlink/getting-started/configuration",title:"Configuration",description:"Configuring ChainLink is required in order to use the system. During the configuration process is also where you extend the native functionality in order to integrate it with your game's systems.",source:"@site/docs/chainlink/getting-started/configuration.md",sourceDirName:"chainlink/getting-started",slug:"/chainlink/getting-started/configuration",permalink:"/ChainLink/docs/chainlink/getting-started/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/Hex-Interactive/ChainLink/edit/main/docs/docs/chainlink/getting-started/configuration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"chainlink",previous:{title:"Installation",permalink:"/ChainLink/docs/chainlink/getting-started/installation"},next:{title:"Links",permalink:"/ChainLink/docs/chainlink/concepts/links"}},l={},c=[{value:"Steps",id:"steps",level:2},{value:"Defining the Map Directory",id:"defining-the-map-directory",level:3},{value:"Registering Actions",id:"registering-actions",level:3},{value:"Registering Validators",id:"registering-validators",level:3},{value:"Initializing",id:"initializing",level:3},{value:"Full Example",id:"full-example",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Configuring ChainLink is required in order to use the system. During the configuration process is also where you extend the native functionality in order to integrate it with your game's systems."}),"\n",(0,t.jsx)(n.p,{children:"During the configuration process you can:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#defining-the-map-directory",children:"Define the map directory"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registering-actions",children:"Register Actions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registering-validators",children:"Register Validators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"#initializing",children:["Call the ",(0,t.jsx)(n.code,{children:"Init"})," function"]})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The first step and last step are the only required steps, but registering game-specific ",(0,t.jsx)(n.a,{href:"../concepts/actions",children:"Actions"})," are recommended. You should register ",(0,t.jsx)(n.a,{href:"../concepts/validators",children:"Validators"})," only as you need them."]}),"\n",(0,t.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsx)(n.h3,{id:"defining-the-map-directory",children:"Defining the Map Directory"}),"\n",(0,t.jsx)(n.p,{children:"ChainLink needs to know what part of your game is the map. This is for sandboxing/security reasons, but also helpful for organization. The map directory shouldn't contain any important elements to the game's function, such as scripts."}),"\n",(0,t.jsxs)(n.p,{children:["Use the function ",(0,t.jsx)(n.code,{children:"SetMapDirectory"})," and pass a function that, when called, will return the map directory."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local ChainLink = require(...)\n\nChainLink.SetMapDirectory(function()\n\treturn workspace:FindFirstChild("CurrentMap")\nend)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registering-actions",children:"Registering Actions"}),"\n",(0,t.jsxs)(n.p,{children:["To extend the native functionality of ChainLink and integrate better with your game systems, you should register Actions. This must be done before the ",(0,t.jsx)(n.code,{children:"Init"})," function is called. There are 3 functions to register Actions."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RegisterAction"})," registers a single ActionModule, and thus it takes a ModuleScript as an argument."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RegisterActionsIn"})," registers descendant ActionModules (only ModuleScripts) of the passed in parent argument.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"There is an optional second argument of an array of strings for Action names to ignore."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RegisterDefaultActions"})," registers all the default ChainLink Actions.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"There is an optional second argument of an array of strings for Action names to ignore."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The name property of registered ModuleScripts (ActionModules) is used for the Action name. Action names must not match; they all have to be unique. It is recommended to store your custom ActionModules in a folder hierarchy and use ",(0,t.jsx)(n.code,{children:"RegisterActionsIn"})," to register them. Both ",(0,t.jsx)(n.code,{children:"RegisterActionsIn"})," and ",(0,t.jsx)(n.code,{children:"RegisterDefaultActions"})," will ignore non-ModuleScript instances, allowing you to organize your Actions into nested folders for organization, if you so choose."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local ChainLink = require(...)\n\nChainLink.RegisterAction(script.Parent:WaitForChild("ImportantAction"))\nChainLink.RegisterActionsIn(script:WaitForChild("Actions"), { "UnusedAction" })\nChainLink.RegisterDefaultActions()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registering-validators",children:"Registering Validators"}),"\n",(0,t.jsxs)(n.p,{children:["To customize functionality of built-in features such as ",(0,t.jsx)(n.a,{href:"../concepts/triggers",children:"Triggers"}),", you'll want to register Validators. Using the function ",(0,t.jsx)(n.code,{children:"RegisterValidators"}),", you pass in a table with the names of the Validators and the Validator functions themselves. You're only able to register Validators defined internally in ChainLink, and you only have to register the Validators you need, otherwise they will default to a function that always returns true."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local ChainLink = require(...)\n\nChainLink.RegisterValidators({\n\tCanTrigger = function()\n\t\treturn script:GetAttribute("TriggersEnabled")\n\tend,\n\tCanTriggerPlayer = function(subject)\n\t\treturn subject.UserId ~= 1\n\tend,\n})\n'})}),"\n",(0,t.jsx)(n.h3,{id:"initializing",children:"Initializing"}),"\n",(0,t.jsxs)(n.p,{children:['To "enable" or "turn on" ChainLink, you need to call the ',(0,t.jsx)(n.code,{children:"Init"})," function. This must be called separately for each runtime you are using ChainLink with: server and/or client. In the vast majority of cases, you will just be initializing on the server. Before calling this function, make sure you have registered all Actions and Validators you will be using. Additionally, it will error if called more than once or if the map directory wasn't defined."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"local ChainLink = require(...)\n\nChainLink.Init()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"full-example",children:"Full Example"}),"\n",(0,t.jsx)(n.p,{children:"Below is a full example of a potential configuration."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local ChainLink = require(...)\n\nChainLink.SetMapDirectory(function()\n\treturn workspace:FindFirstChild("MainMap")\nend)\n\nChainLink.RegisterActionsIn(script:WaitForChild("Actions"), { "OldAction" })\nChainLink.RegisterDefaultActions()\n\nChainLink.RegisterValidators({\n\tCanTriggerPlayer = function(subject)\n\t\treturn subject.UserId % 2 == 0\n\tend,\n})\n\nChainLink.Init()\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);